<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Compra tu icono en FiveOS - Buy your icon in FiveOS">
<link rel="icon shortcut" type="image/png" href="i/p/Logo.png">
<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
<title>Build Calculator</title>
<script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.0-rc.2/jquery-ui.min.js"></script>
<style>
@import url(https://fonts.googleapis.com/css?family=Ubuntu+Condensed);
@import url(https://fonts.googleapis.com/css?family=Orbitron);
html,body *{margin:0;padding:0;}
body{background:aqua;}

/* Calculadora */
#calculadora{font-family:verdana;display:block;position: absolute;right: 20px;top:20px;height: 305px;width:200px;background:white;border:outset 3px darkgrey;border-radius:18px 5px;color:black;overflow: hidden;
	background: -webkit-linear-gradient(white, #e0e0e0); /* For Safari 5.1 to 6.0 */
    background: -o-linear-gradient(white, #e0e0e0); /* For Opera 11.1 to 12.0 */
    background: -moz-linear-gradient(white, #e0e0e0); /* For Firefox 3.6 to 15 */
    background: linear-gradient(white, #e0e0e0); /* Standard syntax */
	z-index:1000;}
#calculadora .formateo-box{width: 100%;text-align: center;}
#calculadora .titlecolor{padding:10px;background-color: orange;width: auto;font-family: 'Orbitron', sans-serif;color:white;}
#calculadora #column-r-calculator1,#calculadora #column-r-calculator2,#calculadora #column-r-calculator3,#calculadora #column-r-calculator4{float:left;width:25%;height: 1000px;text-align: center;}
#calculadora .boton{display:inline-block;color:white;background:orange;border-radius:1.5px 5px;width:80%;margin:10px 0px 0px 0px;padding:2px;cursor:pointer;}
#calculadora .boton:hover{background:darkorange;}
#close-calculator:hover{
	-webkit-animation: swing 0.5s;
    animation: swing 0.5s;
    cursor:pointer;
}
/* Inputs */
input[type="number"]{color:orange;background-color: white;}
input[type="number"]:focus{border:1px solid orange;
box-shadow: inset 0 1px 1px rgba(255, 189, 25, 0.075), 0 0 8px rgba(255, 189, 25, 0.6);}
</style>
<script>
$(function(){
	var encalculadora = $("#calculo")
	var primeraeleccion = 0
	var type_operation = "None"
	var memory = 0
	//Cerra cajas
	$("#close-calculator").on("click", function(){$("#calculadora").css("display", "none");});
	$("#calculadora").draggable({containment: "window", revert:"valid"});
	document.querySelector("input").addEventListener("keypress", function (evt) {
    if (evt.which < 48 || evt.which > 57){evt.preventDefault();}});
    //Calculadora
    $("#calc-reinicio").on("click", function(){$("#calculo").val("");});
    $("#calc-sqrt").on("click", function(){$("#calculo").val(Math.sqrt($("#calculo").val()))});
    $("#calc-fact").on("click",function(){
    	if (encalculadora.val() == 0){
    		encalculadora.val(1);
    	}
    	else if(encalculadora.val() < 0){
    		encalculadora.animate({backgroundColor: "red"}, 240, function(){
    			encalculadora.val("");
    			encalculadora.animate({backgroundColor: "white"}, 100);
    		});
    	}
    	else{
    	for(var i = encalculadora.val() - 1 ; i > 0; i--){
			encalculadora.val(encalculadora.val() * i);
		}
		}
    });
    $("#calc-memget").on("click", function(){
    	memory = encalculadora.val();
    	encalculadora.animate({backgroundColor: "lime"}, 240, function(){
    			encalculadora.val("");
    			encalculadora.animate({backgroundColor: "white"}, 100);
    });
    });
    $("#calc-memset").on("click", function(){
    	encalculadora.val(memory);
    });
    $("#calc-pow").on("click", function(){primeraeleccion = encalculadora.val();encalculadora.val("");type_operation = "Pow"});
    $("#calc-sum").on("click", function(){primeraeleccion = encalculadora.val();encalculadora.val("");type_operation = "Sum"});
    $("#calc-res").on("click", function(){primeraeleccion = encalculadora.val();encalculadora.val("");type_operation = "Res"});
    $("#calc-div").on("click", function(){primeraeleccion = encalculadora.val();encalculadora.val("");type_operation = "Div"});
    $("#calc-mul").on("click", function(){primeraeleccion = encalculadora.val();encalculadora.val("");type_operation = "Mul";});
    $("#calc-sen").on("click",function(){encalculadora.val(Math.sin(encalculadora.val()));})
    $("#calc-cos").on("click",function(){encalculadora.val(Math.cos(encalculadora.val()));})
    $("#calc-tan").on("click",function(){encalculadora.val(Math.tan(encalculadora.val()));})
    $("#calc-finish").on("click",function(){
    	if(type_operation === "Pow"){encalculadora.val(Math.pow(primeraeleccion, encalculadora.val()));}
    	else if(type_operation === "Sum"){encalculadora.val(parseFloat(primeraeleccion) + parseFloat(encalculadora.val()))}
    	else if(type_operation === "Res"){encalculadora.val(parseFloat(primeraeleccion) - parseFloat(encalculadora.val()))}
    	else if(type_operation === "Div"){encalculadora.val(parseFloat(primeraeleccion) / parseFloat(encalculadora.val()))}
    	else if(type_operation === "Mul"){encalculadora.val(parseFloat(primeraeleccion) * parseFloat(encalculadora.val()))}
    });
    $("#calc-0").click(function(){$("#calculo").val($("#calculo").val() + "0");});
    $("#calc-1").click(function(){$("#calculo").val($("#calculo").val() + "1");});
    $("#calc-2").click(function(){$("#calculo").val($("#calculo").val() + "2");});
    $("#calc-3").click(function(){$("#calculo").val($("#calculo").val() + "3");});
    $("#calc-4").click(function(){$("#calculo").val($("#calculo").val() + "4");});
    $("#calc-5").click(function(){$("#calculo").val($("#calculo").val() + "5");});
    $("#calc-6").click(function(){$("#calculo").val($("#calculo").val() + "6");});
    $("#calc-7").click(function(){$("#calculo").val($("#calculo").val() + "7");});
    $("#calc-8").click(function(){$("#calculo").val($("#calculo").val() + "8");});
    $("#calc-9").click(function(){$("#calculo").val($("#calculo").val() + "9");});
});
</script>
</head>
<body>

<div id="calculadora">
<ul style="list-style-type:none;">
	<li class="formateo-box titlecolor">Calculadora <i style="float:right;" id="close-calculator" class="fa fa-times" aria-hidden="true"></i></li>
	<li style="padding-top:5px;" class="formateo-box"><input id="calculo" style="width:auto;" type="number"></li>
	<div id="column-r-calculator1">
		<div id="calc-sqrt" class="boton">âˆšx</div>
		<div id="calc-cos" class="boton">cos</div>
		<div id="calc-1" class="boton">1</div>
		<div id="calc-4" class="boton">4</div>
		<div id="calc-7" class="boton">7</div>
		<div id="calc-memget" class="boton">M+</div>
	</div>
	<div id="column-r-calculator2">
		<div id="calc-fact" class="boton">x!</div>
		<div id="calc-sen" class="boton">sen</div>
		<div id="calc-2" class="boton">2</div>
		<div id="calc-5" class="boton">5</div>
		<div id="calc-8" class="boton">8</div>
		<div id="calc-0" class="boton">0</div>
	</div>
	<div id="column-r-calculator3">
		<div id="calc-pow" class="boton">x<sup>y</sup></div>
		<div id="calc-tan" class="boton">tan</div>
		<div id="calc-3" class="boton">3</div>
		<div id="calc-6" class="boton">6</div>
		<div id="calc-9" class="boton">9</div>
		<div id="calc-memset" class="boton">M-</div>
	</div>
	<div id="column-r-calculator4">
		<div id="calc-reinicio" class="boton">C</div>
		<div id="calc-sum" class="boton">+</div>
		<div id="calc-res" class="boton">-</div>
		<div id="calc-div" class="boton">/</div>
		<div id="calc-mul" class="boton">x</div>
		<div id="calc-finish" class="boton">=</div>
	</div>
</ul>
</div>

</body>
</html>